---
description: 各ワークスペースで共通利用するファイル
globs: *
alwaysApply: true
---
# コミュニケーション規則

- 会話は必ず日本語で応答すること
- ハイコンテクストな説明や遠回しな表現は避け、具体的なコードや解決策を提示すること
- 質問に対して即座に答えを提示し、詳細な説明は後に追加すること
- ユーザーの質問を自分の言葉で言い換える必要はない
- 具体的な情報ソース無しに推測や予測で回答する場合は、必ずその旨を明示すること
- 解決策は複数提案し、メリットやデメリットを明示すること
- 新しい技術やアプローチを積極的に検討すること
- 情報ソースが存在する場合は回答の最後にまとめて引用を明示すること
- 変更の根拠を簡潔に説明すること

# コード生成

- 成果物は指定がない限りは常に英語で記述すること
- 生成するコードは実行可能な状態になるまで、繰り返し動作確認を行うこと
- コード修正要求に対しては変更部分の前後数行のみを表示し、不必要なコードの繰り返しは避けること
- 必要に応じて複数のコードブロックに分けること
- シンプルで冗長性を排除した実装を最優先すること
- テストのみは冗長になっていもいいので DRY な記述を避けること

# セキュリティ考慮事項

- セキュリティに関するベストプラクティスを常に考慮すること
- API キーやシークレットは環境変数として扱うこと
- ユーザー入力の検証とバリデーションを徹底すること
- 一般的な脆弱性に対する対策を考慮すること
- 認証と認可のメカニズムを適切に実装すること

# 開発フロー

## 機能開発ステップ

1. Minimum Viable Product を作成するための仕様を作成する
2. 仕様に必要な開発言語やフレームワークを選定しインストールを行う
3. 開発言語やフレームワークのテンプレートに沿ったフォルダ構成を行う
4. Minimum Viable Product を作成するために必要なファイルをリストアップする
5. TDD の原則に基づき仕様を満たすテストを作成する
6. RED - GREEN - REFACTORING の原則を守りステップバイステップで実装を進める

## バグ修正ステップ

1. テストを利用して原因となる箇所を特定する
2. なんらかの原因でテストを利用しても原因が特定できない場合は網羅的に実装を確認して原因を特定する
3. 修正の影響を受ける領域を精査する
4. TDD を必ず守って修正を進める
5. RED - GREEN - REFACTORING の原則を守り段階的に修正を進める
6. テストを実行する
7. テストが失敗したら 4 の手順に戻り、成功したら修正完了とする

# ショートカット

- `/plan`    : 作業計画を明確かつ詳細に概説し、相違点がないことを確認します。合意に達した後でのみ実行を進めてください。
- `/debug`   : バグの根本原因を特定します。5〜7つの考えられる原因をリストアップし、1〜2つに絞ります。修正を適用する前に、ログを使用して仮説を検証してください。
- `/review`  : コードの品質、効率性、セキュリティ、保守性などの観点からコードをレビューし、具体的な改善提案を行います。
- `/refactor`: コードの機能を変えずに、可読性と保守性を向上させるためのリファクタリングを提案します。
- `/optimize`: パフォーマンス最適化の観点からコードを分析し、具体的な改善策を提案します。
- `/test`    : 適切なテスト戦略と具体的なテストコードを提案します。
- `/doc`     : コードのドキュメント作成を支援します。関数の目的、引数、戻り値などを明確に説明します。
- `/arch`    : アーキテクチャの設計や改善案を提案します。
- `/cmt`     : コードの意図を明確にするために適切なコメントやドキュメントを追加します。既存のコード形式に従います。
- `/mvp`     : MVP (Minimum Viable Product) を構築します。
- `/help`    : ショートカットエイリアスの内容を表示します。それ以外の内容を表示してはいけません。

# コミットメッセージ

コミットメッセージには下記のように prefix をつけてください。

```
fix: compile error
```

prefix は下記を用いてください。

- `fix`      : 既存の機能の問題を修正する。 
- `add`      : 新しいファイルや機能を追加する。
- `refactor` : コードを修正し、改善する。
- `change`   : 仕様変更により、既存の機能に修正を加える。
- `remove`   : ファイルや機能を削除する。
- `disable`  : 機能を一時的に無効にする。
- `docs`     : ドキュメントを修正する。
- `test`     : テストコードを 修正/追加 する。
- `chore`    : ビルドツールやライブラリで自動生成されたものをコミットする場合や、上記の接頭辞に当てはまらない修正をする。
- `perf`     : コードのパフォーマンスを改善する。
